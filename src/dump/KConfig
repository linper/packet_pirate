
menu "Data dump"

config DFN_DUMP_APPEND
	bool "Append"
	default y
	depends on !DFN_DUMP_TYPE_NONE
	help
		"If previous session filter tree, database path, and name is idendical to current, then new filtered packets will be appeded to existing database. Otherwise action will be desided by \"Override\" option."

config DFN_DUMP_OVERRIDE
	bool "Override"
	depends on !DFN_DUMP_TYPE_NONE
	help
		"If checked, overrides old dump. Otherwise adds integer suffix to name."

choice
    prompt "Dump type"
    default DFN_DUMP_SQLITE3

config DFN_DUMP_TYPE_SQLITE3
	bool "Sqlite3 DB"
	help
		"Dumps filtered packets to autogenerated sqlite3 database."
  
config DFN_DUMP_TYPE_MYSQL
	bool "MySql DB"
	help
		"Dumps filtered packets to autogenerated MySQL database."

config DFN_DUMP_TYPE_PQ
	bool "PostgreSql DB"
	help
		"Dumps filtered packets to autogenerated Postgre database."

config DFN_DUMP_TYPE_NONE
	bool "None"
	help
		"Does not save filtered packets"

endchoice

config DFN_DUMP_SQLITE3_PATH
	string "Dump path"
	default "./"
	depends on DFN_DUMP_TYPE_SQLITE3
	help
		"Path where database will be dumped."

config DFN_DUMP_SQLITE3_DB
	string "Database name"
	default "dump"
	depends on DFN_DUMP_TYPE_SQLITE3
	help
		"Path where database will be dumped."


config DFN_DUMP_MYSQL_HOST
	string "Host"
	default "localhost"
	depends on DFN_DUMP_TYPE_MYSQL
	help
		"URL where database is hosted."

config DFN_DUMP_MYSQL_PORT
	int "Port"
	default 3306
	depends on DFN_DUMP_TYPE_MYSQL
	help
		"MySQL server port."

config DFN_DUMP_MYSQL_USER
	string "User"
	default "root"
	depends on DFN_DUMP_TYPE_MYSQL
	help
		"User with permissions to create and delete databases."

config DFN_DUMP_MYSQL_PASS
	string "Password"
	default "root"
	depends on DFN_DUMP_TYPE_MYSQL
	help
		"Password for user mentioned above."

config DFN_DUMP_MYSQL_DB
	string "Database name"
	default "dump"
	depends on DFN_DUMP_TYPE_MYSQL
	help
		"Database name where filtered data will be dumped."

config DFN_DUMP_PQ_HOST
	string "Host"
	default "localhost"
	depends on DFN_DUMP_TYPE_PQ
	help
		"URL where database is hosted."

config DFN_DUMP_PQ_PORT
	int "Port"
	default 5432
	depends on DFN_DUMP_TYPE_PQ
	help
		"MySQL server port."

config DFN_DUMP_PQ_USER
	string "User"
	default "postgres"
	depends on DFN_DUMP_TYPE_PQ
	help
		"User with permissions to create and delete databases."

config DFN_DUMP_PQ_PASS
	string "Password"
	default ""
	depends on DFN_DUMP_TYPE_PQ
	help
		"Password for user mentioned above."

config DFN_DUMP_PQ_DB
	string "Database name"
	default "dump"
	depends on DFN_DUMP_TYPE_PQ
	help
		"Database name where filtered data will be dumped."

endmenu
